(()=>{"use strict";var e,t={83:(e,t,o)=>{o.d(t,{or:()=>r,X5:()=>u,fs:()=>i,yG:()=>c});const n=JSON.parse('{"payday-blue":{"value":"#4A90E2","label":"Payday Blue","autoText":"#FFFFFF","groups":["icon","background","text"],"contextPalette":{"iconDefault":"white","iconHighlight":"pto-yellow","buttonPrimary":"ledger-blue","buttonSecondary":"pto-yellow","panelBackground":"white"}},"payday-blue-tint-1":{"value":"#8AB4E8","label":"Payday Blue Light","autoText":"#1E293B","groups":["background"],"contextPalette":{"iconDefault":"payday-blue","iconHighlight":"pto-yellow","buttonPrimary":"ledger-blue","buttonSecondary":"payday-blue","panelBackground":"white"}},"payday-blue-tint-2":{"value":"#E3EEF9","label":"Payday Blue Subtle","autoText":"#1E293B","groups":["background"],"contextPalette":{"iconDefault":"payday-blue","iconHighlight":"pto-yellow","buttonPrimary":"payday-blue","buttonSecondary":"ledger-blue","panelBackground":"white"}},"ledger-blue":{"value":"#1E293B","label":"Ledger Blue","autoText":"#FFFFFF","groups":["icon","background","text"],"contextPalette":{"iconDefault":"payday-blue-tint-1","iconHighlight":"pto-yellow","buttonPrimary":"payday-blue","buttonSecondary":"pto-yellow","panelBackground":"white"}},"ledger-blue-tint-1":{"value":"#94A3B8","label":"Ledger Blue Medium","autoText":"#1E293B","groups":["background"],"contextPalette":{"iconDefault":"ledger-blue","iconHighlight":"payday-blue","buttonPrimary":"payday-blue","buttonSecondary":"ledger-blue","panelBackground":"white"}},"ledger-blue-tint-2":{"value":"#E2E8F0","label":"Ledger Blue Light","autoText":"#1E293B","groups":["background"],"contextPalette":{"iconDefault":"ledger-blue","iconHighlight":"payday-blue","buttonPrimary":"payday-blue","buttonSecondary":"ledger-blue","panelBackground":"white"}},"form-fill-white":{"value":"#F8F9FA","label":"Form Fill White","autoText":"#1E293B","groups":["background"],"contextPalette":{"iconDefault":"payday-blue","iconHighlight":"growth-green","buttonPrimary":"payday-blue","buttonSecondary":"ledger-blue","panelBackground":"white"}},"white":{"value":"#FFFFFF","label":"White","autoText":"#1E293B","groups":["icon","background","text"],"contextPalette":{"iconDefault":"payday-blue","iconHighlight":"pto-yellow","buttonPrimary":"payday-blue","buttonSecondary":"ledger-blue","panelBackground":"ledger-blue-tint-2"}},"transparent":{"value":"transparent","label":"Transparent","autoText":"#1E293B","groups":["background"],"contextPalette":{"iconDefault":"payday-blue","iconHighlight":"pto-yellow","buttonPrimary":"payday-blue","buttonSecondary":"ledger-blue","panelBackground":"white"}},"growth-green":{"value":"#2ECC71","label":"Growth Green","autoText":"#FFFFFF","groups":["icon","background","text"],"contextPalette":{"iconDefault":"white","iconHighlight":"pto-yellow","buttonPrimary":"ledger-blue","buttonSecondary":"white","panelBackground":"white"}},"pto-yellow":{"value":"#F9B234","label":"PTO Yellow","autoText":"#1E293B","groups":["icon","background","text"],"contextPalette":{"iconDefault":"ledger-blue","iconHighlight":"payday-blue","buttonPrimary":"ledger-blue","buttonSecondary":"payday-blue","panelBackground":"white"}},"compliance-green":{"value":"#27AE60","label":"Compliance Green","autoText":"#FFFFFF","groups":["icon","background","text"],"contextPalette":{"iconDefault":"white","iconHighlight":"pto-yellow","buttonPrimary":"ledger-blue","buttonSecondary":"white","panelBackground":"white"}}}'),l={},a={auto:{value:"auto",label:"Auto"}};Object.entries(n).forEach(([e,t])=>{l[e]={value:t.value,label:t.label,autoText:t.autoText,groups:t.groups||[],contextPalette:t.contextPalette||{}},"transparent"!==e&&(a[e]={value:t.value,label:t.label})});const r={backgrounds:l,textColors:a};function i(e,t="iconDefault"){const o=r.backgrounds[e];return o&&o.contextPalette&&o.contextPalette[t]?o.contextPalette[t]:{iconDefault:"payday-blue",iconHighlight:"pto-yellow",buttonPrimary:"payday-blue",buttonSecondary:"ledger-blue"}[t]||"payday-blue"}function c(e,t="iconDefault"){const o=i(e,t),n=r.backgrounds[o];return n?.value||"#4A90E2"}function u(e){return Object.entries(r.backgrounds).filter(([t,o])=>o.groups.includes(e)).reduce((e,[t,o])=>(e[t]=o,e),{})}},841:(e,t,o)=>{const n=window.wp.blocks,l=window.React,a=window.wp.i18n,r=window.wp.blockEditor,i=window.wp.components,c=window.wp.element,u=window.wp.data;var s=o(83);const d=function({label:e,value:t,onChange:o,role:n="iconDefault",filterGroup:r=null,containerBackground:c="white"}){console.log("=== ContextualColorPicker Debug ==="),console.log("Container Background:",c),console.log("Current value:",t),console.log("Role:",n);const u=(0,s.fs)(c,n),d=(0,s.yG)(c,n);console.log("Suggested Color Key:",u),console.log("Suggested Color Value:",d),console.log("===================================");const g=r?(0,s.X5)(r):s.or.backgrounds;return(0,l.createElement)(i.BaseControl,{label:e,help:"auto"===t?(0,a.__)("Adapts based on container background","wagepoint"):null},(0,l.createElement)(i.Dropdown,{renderToggle:({isOpen:e,onToggle:o})=>(0,l.createElement)(i.Button,{onClick:o,"aria-expanded":e,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",border:"1px solid #949494",borderRadius:"2px",backgroundColor:"white",width:"100%",justifyContent:"flex-start"}},(0,l.createElement)(i.ColorIndicator,{colorValue:"auto"===t?d:s.or.backgrounds[t]?.value||d}),"auto"===t?`Auto (${s.or.backgrounds[u]?.label||"Auto"})`:s.or.backgrounds[t]?.label||"Unknown"),renderContent:()=>(0,l.createElement)("div",{style:{padding:"8px",minWidth:"220px",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"2px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"}},(0,l.createElement)(i.Button,{onClick:()=>o("auto"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",width:"100%",border:"none",backgroundColor:"auto"===t?"#f0f0f0":"transparent",textAlign:"left",cursor:"pointer",borderBottom:"1px solid #e0e0e0",marginBottom:"4px"}},(0,l.createElement)(i.ColorIndicator,{colorValue:d}),(0,l.createElement)("div",null,(0,l.createElement)("div",{style:{fontWeight:500}},"Auto"),(0,l.createElement)("div",{style:{fontSize:"11px",color:"#666"}},s.or.backgrounds[u]?.label))),Object.entries(g).map(([e,n])=>(0,l.createElement)(i.Button,{key:e,onClick:()=>o(e),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",width:"100%",border:"none",backgroundColor:t===e?"#f0f0f0":"transparent",textAlign:"left",cursor:"pointer"}},(0,l.createElement)(i.ColorIndicator,{colorValue:n.value}),n.label)))}))},g=JSON.parse('{"UU":"wagepoint/metrics-bar"}');(0,n.registerBlockType)(g.UU,{edit:function({attributes:e,setAttributes:t,context:o,clientId:n}){const{heading:g,lineColor:p}=e;let b=o["wagepoint/containerBackground"]||"white";const y=(0,u.useSelect)(e=>{const{getBlockParents:t,getBlock:o}=e("core/block-editor"),l=t(n);for(const e of l){const t=o(e);if("wagepoint/container"===t?.name)return t.attributes.containerBackground}return null},[n]);y&&(b=y);const h=(0,c.useRef)(null),[m,w]=(0,c.useState)(""),v="auto"===p?(0,s.fs)(b,"accent"):p,f=(0,r.useBlockProps)({className:"metrics-bar-block"});return(0,c.useEffect)(()=>{const e=()=>{if(!h.current)return;const e=h.current,t=e.closest(".wp-block-wagepoint-container");if(!t)return void console.log("âŒ No container found");const o=t.querySelector(".wp-block-wagepoint-split-section");if(!o){console.log("âŒ No split section found");const t=e.getBoundingClientRect(),o=28;return void w(`M 0 ${o} L ${t.width} ${o}`)}console.log("ðŸ” Looking for media column in split section",o);const n=o.querySelector(".split-section__media");if(!n)return void console.log("âŒ No media column found");const l=e.querySelector(".wp-block-icon");if(!l)return void console.log("âŒ No metric icon found");const a=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=l.getBoundingClientRect(),c=i.left+i.width/2-r.left,u=i.top+i.height/2-r.top,s=a.right-r.left,d=`M ${c} ${u} L ${s-60} ${u} Q ${s} ${u}, ${s} ${u-60} L ${s} ${a.bottom-r.top}`;console.log("âœ… Path calculated:",d),w(d)},t=setTimeout(e,100);window.addEventListener("resize",e);const o=new MutationObserver(()=>{setTimeout(e,50)});if(h.current){const e=h.current.closest(".wp-block-wagepoint-container")||h.current.parentElement;e&&o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]})}return()=>{window.removeEventListener("resize",e),o.disconnect(),clearTimeout(t)}},[]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:(0,a.__)("Metrics Bar Settings","wagepoint"),initialOpen:!0},(0,l.createElement)(i.TextControl,{label:(0,a.__)("Section Heading","wagepoint"),value:g,onChange:e=>t({heading:e}),placeholder:(0,a.__)("Wagepoint by the numbers","wagepoint"),help:(0,a.__)("Optional heading above the metrics","wagepoint")}),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)(d,{label:(0,a.__)("Line Color","wagepoint"),value:p,onChange:e=>t({lineColor:e}),role:"accent",containerBackground:b})))),(0,l.createElement)("div",{...f,ref:h},g&&(0,l.createElement)(r.RichText,{tagName:"div",className:"metrics-bar-heading",value:g,onChange:e=>t({heading:e}),placeholder:(0,a.__)("Wagepoint by the numbers","wagepoint")}),(0,l.createElement)("div",{className:"metrics-bar-container"},m&&(0,l.createElement)("svg",{className:"metrics-bar-line-svg","data-line-color":p||"auto",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"}},(0,l.createElement)("path",{d:m,stroke:v,strokeWidth:"2",fill:"none",strokeLinecap:"round"})),(0,l.createElement)("div",{className:"metrics-bar-items"},(0,l.createElement)(r.InnerBlocks,{allowedBlocks:["wagepoint/metric"],template:[["wagepoint/metric",{icon:{type:"svg",svg:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>',backgroundColor:"auto",size:56},value:"99.9%",label:"uptime"}],["wagepoint/metric",{icon:{type:"svg",svg:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/></svg>',backgroundColor:"auto",size:56},value:"123,567",label:"payrolls processed monthly"}],["wagepoint/metric",{icon:{type:"svg",svg:'<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>',backgroundColor:"auto",size:56},value:"+51",label:"NPS score"}]],templateLock:"insert",orientation:"horizontal"})))))},save:function({attributes:e}){const{heading:t,lineColor:o}=e,n=o||"payday-blue",a=r.useBlockProps.save({className:"metrics-bar-block"});return(0,l.createElement)("div",{...a},t&&(0,l.createElement)(r.RichText.Content,{tagName:"div",className:"metrics-bar-heading",value:t}),(0,l.createElement)("div",{className:"metrics-bar-container"},(0,l.createElement)("svg",{className:"metrics-bar-line-svg","data-dynamic-line":"true","data-line-color":n,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"visible"}},(0,l.createElement)("path",{className:"metrics-line-path",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round"})),(0,l.createElement)("div",{className:"metrics-bar-items"},(0,l.createElement)(r.InnerBlocks.Content,null))))}})}},o={};function n(e){var l=o[e];if(void 0!==l)return l.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,l,a)=>{if(!o){var r=1/0;for(s=0;s<e.length;s++){for(var[o,l,a]=e[s],i=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every(e=>n.O[e](o[c]))?o.splice(c--,1):(i=!1,a<r&&(r=a));if(i){e.splice(s--,1);var u=l();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[o,l,a]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={1794:0,3802:0,6054:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,a,[r,i,c]=o,u=0;if(r.some(t=>0!==e[t])){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(c)var s=c(n)}for(t&&t(o);u<r.length;u++)a=r[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},o=globalThis.webpackChunkwagepoint=globalThis.webpackChunkwagepoint||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[6054],()=>n(841));l=n.O(l)})();