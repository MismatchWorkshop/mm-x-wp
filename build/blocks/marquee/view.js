(()=>{async function e(){console.log("ğŸ¬ Marquee script starting..."),document.fonts&&document.fonts.ready&&(await document.fonts.ready,console.log("âœ… Fonts loaded")),await new Promise(e=>requestAnimationFrame(e));const e=document.querySelectorAll(".wp-block-wagepoint-marquee");console.log("ğŸ“ Found marquees:",e.length),e.forEach((e,t)=>{console.log(`\nğŸ¯ Processing marquee #${t+1}`);const n=e.querySelector(".wagepoint-marquee-track"),o=e.querySelector(".wagepoint-marquee-content");if(!n||!o)return void console.error("âŒ Missing track or content");const i=e.classList.contains("marquee-direction-right"),a=o.getBoundingClientRect().width,s=e.getBoundingClientRect().width;console.log("ğŸ“ Precise measurements (after fonts):",{contentWidth:a+"px",viewportWidth:s+"px",direction:i?"right":"left"});const r=Math.ceil(2*s/a)+1;console.log("ğŸ“‹ Copies needed:",r);for(let e=0;e<r;e++){const e=o.cloneNode(!0);e.setAttribute("aria-hidden","true"),n.appendChild(e)}console.log("âœ… Clones created:",n.children.length,"total items in track"),n.style.display="flex",n.style.width="fit-content",n.style.willChange="transform",n.style.transform="translateZ(0)",n.style.backfaceVisibility="hidden",n.offsetWidth,requestAnimationFrame(()=>{const e=n.querySelectorAll(".wagepoint-marquee-content"),t=e[0].getBoundingClientRect(),o=e[1].getBoundingClientRect().left-t.left;console.log("ğŸ“ Animation distance calculated:",{animationDistance:o+"px"});const a=`marquee-${Math.random().toString(36).substr(2,9)}`;console.log("ğŸ­ Animation name:",a);const s=i?`-${o}px`:"0",r=i?"0":`-${o}px`,l=document.createElement("style");l.textContent=`\n                @keyframes ${a} {\n                    from { transform: translateX(${s}); }\n                    to { transform: translateX(${r}); }\n                }\n            `,document.head.appendChild(l);const c=o/150;console.log("â±ï¸ Animation settings:",{duration:c.toFixed(2)+"s",speed:"150px/s",startPos:s,endPos:r}),n.style.removeProperty("animation"),n.offsetWidth,n.style.setProperty("animation",`${a} ${c}s linear infinite`,"important"),console.log("âœ¨ Final animation applied"),console.log("---")})}),console.log("ğŸ Marquee script complete\n")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();