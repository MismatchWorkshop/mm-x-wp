(()=>{"use strict";var e,t={20:(e,t,o)=>{var l=o(609),a=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var l,p={},s=null,c=null;for(l in void 0!==o&&(s=""+o),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,l)&&!i.hasOwnProperty(l)&&(p[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===p[l]&&(p[l]=t[l]);return{$$typeof:a,type:e,key:s,ref:c,props:p,_owner:r.current}}},356:(e,t,o)=>{const l=window.wp.blocks,a=window.wp.primitives;var n=o(848);const r=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"M12 4 4 19h16L12 4zm0 3.2 5.5 10.3H12V7.2z"})});var i=o(609);const p=window.wp.blockEditor,s=window.wp.components,c=window.wp.data,g=window.wp.i18n,d=JSON.parse('{"apiVersion":3,"name":"wagepoint/filterable-grid","title":"Filterable Cards","category":"widgets","icon":"filter","description":"Display taxonomy filter controls (dropdown, buttons, checkboxes, or radio)","keywords":["filter","taxonomy","category","tag"],"version":"1.0.0","textdomain":"wagepoint","attributes":{"taxonomy":{"type":"string","default":"category"},"postType":{"type":"string","default":"post"},"showLabel":{"type":"boolean","default":true},"placeholder":{"type":"string","default":""},"style":{"type":"string","default":"dropdown"},"showCount":{"type":"boolean","default":false},"orderBy":{"type":"string","default":"name"},"order":{"type":"string","default":"ASC"},"hideEmpty":{"type":"boolean","default":true},"showAllOption":{"type":"boolean","default":true},"allOptionText":{"type":"string","default":""},"multiSelect":{"type":"boolean","default":false},"hierarchical":{"type":"boolean","default":false},"maxDepth":{"type":"number","default":0}},"supports":{"html":false,"align":false,"spacing":{"margin":true,"padding":true}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,l.registerBlockType)(d.name,{...d,icon:{src:r,foreground:"#10b981"},edit:function({attributes:e,setAttributes:t}){const{taxonomy:o,postType:l,showLabel:a,placeholder:n,style:r,showCount:d,orderBy:_,order:m,hideEmpty:u,showAllOption:w,allOptionText:h,multiSelect:y,hierarchical:b,maxDepth:f}=e,v=(0,c.useSelect)(e=>{const{getPostTypes:t}=e("core"),o=t({per_page:-1});return o?.filter(e=>e.viewable&&!["attachment","wp_block"].includes(e.slug))||[]},[]),x=(0,c.useSelect)(e=>{if(!l)return[];const{getTaxonomies:t}=e("core");return t({type:l,per_page:-1})||[]},[l]),E=x.find(e=>e.slug===o),C=E?.hierarchical||!1,k=(0,p.useBlockProps)({className:"taxonomy-filter-block-editor"});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(p.InspectorControls,null,(0,i.createElement)(s.PanelBody,{title:(0,g.__)("Filter Settings","wagepoint"),initialOpen:!0},(0,i.createElement)(s.SelectControl,{label:(0,g.__)("Post Type","wagepoint"),value:l,options:[{label:(0,g.__)("Select Post Type","wagepoint"),value:""},...v.map(e=>({label:e.labels.singular_name,value:e.slug}))],onChange:e=>{t({postType:e}),t({taxonomy:""})}}),l&&x.length>0&&(0,i.createElement)(s.SelectControl,{label:(0,g.__)("Taxonomy","wagepoint"),value:o,options:[{label:(0,g.__)("Select Taxonomy","wagepoint"),value:""},...x.map(e=>({label:e.name,value:e.slug}))],onChange:e=>t({taxonomy:e})}),l&&0===x.length&&(0,i.createElement)(s.Notice,{status:"warning",isDismissible:!1},(0,g.__)("No taxonomies available for this post type.","wagepoint"))),(0,i.createElement)(s.PanelBody,{title:(0,g.__)("Display Settings","wagepoint"),initialOpen:!1},(0,i.createElement)(s.SelectControl,{label:(0,g.__)("Style","wagepoint"),value:r,options:[{label:(0,g.__)("Dropdown","wagepoint"),value:"dropdown"},{label:(0,g.__)("Buttons","wagepoint"),value:"buttons"},{label:(0,g.__)("Checkboxes","wagepoint"),value:"checkboxes"},{label:(0,g.__)("Radio Buttons","wagepoint"),value:"radio"}],onChange:e=>t({style:e})}),(0,i.createElement)(s.ToggleControl,{label:(0,g.__)("Show Label","wagepoint"),checked:a,onChange:e=>t({showLabel:e})}),"dropdown"===r&&(0,i.createElement)(s.TextControl,{label:(0,g.__)("Placeholder Text","wagepoint"),value:n,onChange:e=>t({placeholder:e}),help:(0,g.__)("Leave empty for default text","wagepoint")}),(0,i.createElement)(s.ToggleControl,{label:(0,g.__)("Show Count","wagepoint"),checked:d,onChange:e=>t({showCount:e}),help:(0,g.__)("Display post count for each term","wagepoint")}),("buttons"===r||"radio"===r||"dropdown"===r)&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(s.ToggleControl,{label:(0,g.__)('Show "All" Option',"wagepoint"),checked:w,onChange:e=>t({showAllOption:e})}),w&&(0,i.createElement)(s.TextControl,{label:(0,g.__)('"All" Option Text',"wagepoint"),value:h,onChange:e=>t({allOptionText:e}),help:(0,g.__)("Leave empty for default text","wagepoint")})),"dropdown"===r&&(0,i.createElement)(s.ToggleControl,{label:(0,g.__)("Multi-Select","wagepoint"),checked:y,onChange:e=>t({multiSelect:e}),help:(0,g.__)("Allow selecting multiple terms","wagepoint")}),C&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(s.ToggleControl,{label:(0,g.__)("Show Hierarchy","wagepoint"),checked:b,onChange:e=>t({hierarchical:e}),help:(0,g.__)("Display terms in hierarchical structure","wagepoint")}),b&&(0,i.createElement)(s.RangeControl,{label:(0,g.__)("Max Depth","wagepoint"),value:f,onChange:e=>t({maxDepth:e}),min:0,max:5,help:(0,g.__)("Maximum depth to display (0 = unlimited)","wagepoint")}))),(0,i.createElement)(s.PanelBody,{title:(0,g.__)("Sorting Settings","wagepoint"),initialOpen:!1},(0,i.createElement)(s.SelectControl,{label:(0,g.__)("Order By","wagepoint"),value:_,options:[{label:(0,g.__)("Name","wagepoint"),value:"name"},{label:(0,g.__)("Count","wagepoint"),value:"count"},{label:(0,g.__)("Slug","wagepoint"),value:"slug"},{label:(0,g.__)("Term ID","wagepoint"),value:"term_id"}],onChange:e=>t({orderBy:e})}),(0,i.createElement)(s.SelectControl,{label:(0,g.__)("Order","wagepoint"),value:m,options:[{label:(0,g.__)("Ascending","wagepoint"),value:"ASC"},{label:(0,g.__)("Descending","wagepoint"),value:"DESC"}],onChange:e=>t({order:e})}),(0,i.createElement)(s.ToggleControl,{label:(0,g.__)("Hide Empty","wagepoint"),checked:u,onChange:e=>t({hideEmpty:e}),help:(0,g.__)("Hide terms with no posts","wagepoint")}))),(0,i.createElement)("div",{...k},(0,i.createElement)("div",{className:"taxonomy-filter-block-editor__preview"},(0,i.createElement)("div",{className:"taxonomy-filter-block-editor__icon"},(0,i.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},(0,i.createElement)("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,i.createElement)("div",{className:"taxonomy-filter-block-editor__info"},(0,i.createElement)("h4",null,(0,g.__)("Taxonomy Filter","wagepoint")),(0,i.createElement)("p",null,o?(0,i.createElement)(i.Fragment,null,(0,i.createElement)("strong",null,E?.name||o)," • ",r,d&&` • ${(0,g.__)("with count","wagepoint")}`):(0,g.__)("Configure filter settings in the sidebar","wagepoint")))),o&&(0,i.createElement)("div",{className:"taxonomy-filter-block-editor__settings"},(0,i.createElement)("span",{className:"taxonomy-filter-block-editor__badge "+(a?"is-active":"")},a?"✓":"✗"," ",(0,g.__)("Label","wagepoint")),(0,i.createElement)("span",{className:"taxonomy-filter-block-editor__badge "+(d?"is-active":"")},d?"✓":"✗"," ",(0,g.__)("Count","wagepoint")),(0,i.createElement)("span",{className:"taxonomy-filter-block-editor__badge "+(u?"is-active":"")},u?"✓":"✗"," ",(0,g.__)("Hide Empty","wagepoint")),C&&(0,i.createElement)("span",{className:"taxonomy-filter-block-editor__badge "+(b?"is-active":"")},b?"✓":"✗"," ",(0,g.__)("Hierarchical","wagepoint"))),!o&&(0,i.createElement)("div",{className:"taxonomy-filter-block-editor__notice"},(0,i.createElement)("p",null,(0,g.__)("Select a post type and taxonomy to configure this filter.","wagepoint")))))},save:function(){return null}})},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},o={};function l(e){var a=o[e];if(void 0!==a)return a.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,o,a,n)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){for(var[o,a,n]=e[c],i=!0,p=0;p<o.length;p++)(!1&n||r>=n)&&Object.keys(l.O).every(e=>l.O[e](o[p]))?o.splice(p--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,a,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={8266:0,8174:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var a,n,[r,i,p]=o,s=0;if(r.some(t=>0!==e[t])){for(a in i)l.o(i,a)&&(l.m[a]=i[a]);if(p)var c=p(l)}for(t&&t(o);s<r.length;s++)n=r[s],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(c)},o=globalThis.webpackChunkwagepoint=globalThis.webpackChunkwagepoint||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=l.O(void 0,[8174],()=>l(356));a=l.O(a)})();